name: Sync Repository
permissions:
  contents: write
on:
  push:
    branches:
      - master  

jobs:
  sync:
    runs-on: windows-latest
    permissions: 
      contents: write
      
    steps:
    - name: Checkout code
      uses: actions/checkout@v2
    - name: clone from personal
      run: |
        # Clone Repo B using the token stored as a secret.
        git clone https://${{ secrets.SYNCINGTOKEN }}@github.com/Devarapallivamsi/personalRepo.git
    - name: Push to second repository
      uses: ad-m/github-push-action@master
      with:
        github_token: ${{ secrets.SYNCINGTOKEN }} 
        branch: master
        repository: Devarapallivamsi/personalRepo
